{"ast":null,"code":"import _Array$from from \"@babel/runtime-corejs2/core-js/array/from\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/flx/Dropbox/Projects/hookleton/example/pages/fetch.js\";\nimport React from \"react\";\nimport { useState, useEffect, useCallback } from 'react';\nimport createHook from 'hookleton';\nvar URL = 'https://randomuser.me/api/?results=10';\nvar useFetchUsers = createHook(function () {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      again = _useState4[0],\n      updater = _useState4[1];\n\n  function fetchData() {\n    return _fetchData.apply(this, arguments);\n  }\n\n  function _fetchData() {\n    _fetchData = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(URL);\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              data = _context.sent;\n              console.log('[useFetch]: Fetched 10 random users');\n              setUsers(data);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchData.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    fetchData();\n  }, [again]);\n\n  var fetchAgain = function fetchAgain() {\n    return updater(function (s) {\n      return ~s;\n    });\n  };\n\n  return [users, fetchAgain];\n});\n\nvar Hookletons = function Hookletons() {\n  useFetchUsers();\n  return null;\n};\n\nvar RenderUser = function RenderUser(_ref) {\n  var render = _ref.render;\n\n  var _useFetchUsers = useFetchUsers(),\n      _useFetchUsers2 = _slicedToArray(_useFetchUsers, 2),\n      data = _useFetchUsers2[0],\n      fetchAgain = _useFetchUsers2[1];\n\n  return React.createElement(\"ul\", {\n    style: {\n      listStyle: 'none',\n      borderStyle: 'solid'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, data.results ? data.results.map(function (user, idx) {\n    return React.createElement(\"li\", {\n      key: idx,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, idx, \": \"), render(user), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }));\n  }) : React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"loading...\"), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: fetchAgain,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"fetch Again\")));\n};\n\nvar Name = function Name(_ref2) {\n  var name = _ref2.name;\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, name.first, \" \", name.last);\n};\n\nvar Gender = function Gender(_ref3) {\n  var gender = _ref3.gender;\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, gender);\n};\n\nvar Location = function Location(_ref4) {\n  var location = _ref4.location;\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, location.street, \", \", location.city, \", \", location.state);\n};\n\nvar Email = function Email(_ref5) {\n  var email = _ref5.email;\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, email);\n};\n\nvar Users = function Users() {\n  return React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(RenderUser, {\n    render: Name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(RenderUser, {\n    render: Gender,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  })), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(RenderUser, {\n    render: Location,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  })), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(RenderUser, {\n    render: Email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  })))));\n}; // Repeat `Users` component 4 times\n\n\nexport default (function () {\n  return React.createElement(React.Fragment, null, React.createElement(Hookletons, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Fetched 10 random users from: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, URL)), React.createElement(\"ul\", {\n    style: {\n      listStyle: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, _Array$from({\n    length: 4\n  }).map(function (_, idx) {\n    return React.createElement(\"li\", {\n      key: idx,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Users, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }));\n  })));\n});","map":{"version":3,"sources":["/Users/flx/Dropbox/Projects/hookleton/example/pages/fetch.js"],"names":["useState","useEffect","useCallback","createHook","URL","useFetchUsers","users","setUsers","again","updater","fetchData","fetch","response","json","data","console","log","fetchAgain","s","Hookletons","RenderUser","render","listStyle","borderStyle","results","map","user","idx","Name","name","first","last","Gender","gender","Location","location","street","city","state","Email","email","Users","length","_"],"mappings":"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","sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport createHook from 'hookleton';\n\nconst URL = 'https://randomuser.me/api/?results=10';\n\nconst useFetchUsers = createHook(() => {\n  const [users, setUsers] = useState({});\n  const [again, updater] = useState();\n\n  async function fetchData() {\n    const response = await fetch(URL);\n    const data = await response.json();\n    console.log('[useFetch]: Fetched 10 random users');\n    setUsers(data);\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, [again]);\n\n  const fetchAgain = () => updater(s => ~s);\n\n  return [users, fetchAgain];\n});\n\nconst Hookletons = () => {\n  useFetchUsers();\n  return null;\n};\n\nconst RenderUser = ({ render }) => {\n  const [data, fetchAgain] = useFetchUsers();\n  return (\n    <ul style={{ listStyle: 'none', borderStyle: 'solid' }}>\n      {data.results ? (\n        data.results.map((user, idx) => (\n          <li key={idx}>\n            <span>{idx}: </span>\n            {render(user)}\n            <br />\n          </li>\n        ))\n      ) : (\n        <span>loading...</span>\n      )}\n      <li>\n        <button onClick={fetchAgain}>fetch Again</button>\n      </li>\n    </ul>\n  );\n};\n\nconst Name = ({ name }) => (\n  <span>\n    {name.first} {name.last}\n  </span>\n);\n\nconst Gender = ({ gender }) => <span>{gender}</span>;\n\nconst Location = ({ location }) => (\n  <span>\n    {location.street}, {location.city}, {location.state}\n  </span>\n);\n\nconst Email = ({ email }) => <span>{email}</span>;\n\nconst Users = () => (\n  <table>\n    <tbody>\n      <tr>\n        <td>\n          <RenderUser render={Name} />\n        </td>\n        <td>\n          <RenderUser render={Gender} />\n        </td>\n        <td>\n          <RenderUser render={Location} />\n        </td>\n        <td>\n          <RenderUser render={Email} />\n        </td>\n      </tr>\n    </tbody>\n  </table>\n);\n\n// Repeat `Users` component 4 times\nexport default () => (\n  <>\n    <Hookletons />\n    <h1>\n      Fetched 10 random users from: <span>{URL}</span>\n    </h1>\n    <ul style={{ listStyle: 'none' }}>\n      {Array.from({ length: 4 }).map((_, idx) => (\n        <li key={idx}>\n          <Users />\n        </li>\n      ))}\n    </ul>\n  </>\n);\n"]},"metadata":{},"sourceType":"module"}