!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("preact")):"function"==typeof define&&define.amd?define(["exports","preact"],n):n(t.unistore={},t.preact)}(this,function(t,n){function e(t,n){for(var e in n)t[e]=n[e];return t}function r(t){this.getChildContext=function(){return{store:t.store}}}r.prototype.render=function(t){return t.children[0]},t.createStore=function(t){var n=[];function r(t){for(var e=[],r=0;r<n.length;r++)n[r]===t?t=null:e.push(n[r]);n=e}function o(r,o,i){t=o?r:e(e({},t),r);for(var u=n,f=0;f<u.length;f++)u[f](t,i)}return t=t||{},{action:function(n){function e(t){o(t,!1,n)}return function(){for(var r=arguments,o=[t],i=0;i<arguments.length;i++)o.push(r[i]);var u=n.apply(this,o);if(null!=u)return u.then?u.then(e):e(u)}},setState:o,subscribe:function(t){return n.push(t),function(){r(t)}},unsubscribe:r,getState:function(){return t}}},t.Provider=r,t.connect=function(t,r){var o;return"function"!=typeof t&&("string"==typeof(o=t||[])&&(o=o.split(/\s*,\s*/)),t=function(t){for(var n={},e=0;e<o.length;e++)n[o[e]]=t[o[e]];return n}),function(o){function i(i,u){var f=this,c=u.store,s=t(c?c.getState():{},i),p=r?function(t,n){"function"==typeof t&&(t=t(n));var e={};for(var r in t)e[r]=n.action(t[r]);return e}(r,c):{store:c},a=function(){var n=t(c?c.getState():{},f.props);for(var e in n)if(n[e]!==s[e])return s=n,f.setState();for(var r in s)if(!(r in n))return s=n,f.setState()};this.componentWillReceiveProps=a,this.componentDidMount=function(){c.subscribe(a)},this.componentWillUnmount=function(){c.unsubscribe(a)},this.render=function(t){return n.h(o,e(e(e({},p),t),s))}}return(i.prototype=new n.Component).constructor=i}}});
//# sourceMappingURL=preact.umd.js.map
