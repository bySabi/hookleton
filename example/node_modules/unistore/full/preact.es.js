import{h as t,Component as n}from"preact";function r(t,n){for(var r in n)t[r]=n[r];return t}function e(t){var n=[];function e(t){for(var r=[],e=0;e<n.length;e++)n[e]===t?t=null:r.push(n[e]);n=r}function o(e,o,i){t=o?e:r(r({},t),e);for(var u=n,f=0;f<u.length;f++)u[f](t,i)}return t=t||{},{action:function(n){function r(t){o(t,!1,n)}return function(){for(var e=arguments,o=[t],i=0;i<arguments.length;i++)o.push(e[i]);var u=n.apply(this,o);if(null!=u)return u.then?u.then(r):r(u)}},setState:o,subscribe:function(t){return n.push(t),function(){e(t)}},unsubscribe:e,getState:function(){return t}}}function o(e,o){var i;return"function"!=typeof e&&("string"==typeof(i=e||[])&&(i=i.split(/\s*,\s*/)),e=function(t){for(var n={},r=0;r<i.length;r++)n[i[r]]=t[i[r]];return n}),function(i){function u(n,u){var f=this,c=u.store,s=e(c?c.getState():{},n),a=o?function(t,n){"function"==typeof t&&(t=t(n));var r={};for(var e in t)r[e]=n.action(t[e]);return r}(o,c):{store:c},p=function(){var t=e(c?c.getState():{},f.props);for(var n in t)if(t[n]!==s[n])return s=t,f.setState();for(var r in s)if(!(r in t))return s=t,f.setState()};this.componentWillReceiveProps=p,this.componentDidMount=function(){c.subscribe(p)},this.componentWillUnmount=function(){c.unsubscribe(p)},this.render=function(n){return t(i,r(r(r({},a),n),s))}}return(u.prototype=new n).constructor=u}}function i(t){this.getChildContext=function(){return{store:t.store}}}i.prototype.render=function(t){return t.children[0]};export{e as createStore,i as Provider,o as connect};
//# sourceMappingURL=preact.es.js.map
