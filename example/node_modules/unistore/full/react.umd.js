!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],n):n(t.unistore={},t.react)}(this,function(t,n){function e(t,n){for(var e in n)t[e]=n[e];return t}var r={store:function(){}};var o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getChildContext=function(){return{store:this.props.store}},e.prototype.render=function(){return n.Children.only(this.props.children)},e}(n.Component);o.childContextTypes=r,t.createStore=function(t){var n=[];function r(t){for(var e=[],r=0;r<n.length;r++)n[r]===t?t=null:e.push(n[r]);n=e}function o(r,o,i){t=o?r:e(e({},t),r);for(var u=n,c=0;c<u.length;c++)u[c](t,i)}return t=t||{},{action:function(n){function e(t){o(t,!1,n)}return function(){for(var r=arguments,o=[t],i=0;i<arguments.length;i++)o.push(r[i]);var u=n.apply(this,o);if(null!=u)return u.then?u.then(e):e(u)}},setState:o,subscribe:function(t){return n.push(t),function(){r(t)}},unsubscribe:r,getState:function(){return t}}},t.Provider=o,t.connect=function(t,o){var i;return"function"!=typeof t&&("string"==typeof(i=t||[])&&(i=i.split(/\s*,\s*/)),t=function(t){for(var n={},e=0;e<i.length;e++)n[i[e]]=t[i[e]];return n}),function(i){function u(r,u){var c=this;n.Component.call(this,r,u);var f=u.store,p=t(f?f.getState():{},r),s=o?function(t,n){"function"==typeof t&&(t=t(n));var e={};for(var r in t)e[r]=n.action(t[r]);return e}(o,f):{store:f},a=function(){var n=t(f?f.getState():{},c.props);for(var e in n)if(n[e]!==p[e])return p=n,c.forceUpdate();for(var r in p)if(!(r in n))return p=n,c.forceUpdate()};this.componentWillReceiveProps=a,this.componentDidMount=function(){f.subscribe(a)},this.componentWillUnmount=function(){f.unsubscribe(a)},this.render=function(){return n.createElement(i,e(e(e({},s),c.props),p))}}return u.contextTypes=r,(u.prototype=Object.create(n.Component.prototype)).constructor=u}}});
//# sourceMappingURL=react.umd.js.map
