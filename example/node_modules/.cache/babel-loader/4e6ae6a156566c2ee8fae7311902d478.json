{"ast":null,"code":"import _Array$from from \"@babel/runtime-corejs2/core-js/array/from\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport React from \"react\";\nimport { useState, useEffect, useCallback } from 'react';\nimport createHook from 'hookleton';\nvar URL = 'https://randomuser.me/api/?results=10';\nvar useFetchUsers = createHook(function () {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      again = _useState4[0],\n      updater = _useState4[1];\n\n  function fetchData() {\n    return _fetchData.apply(this, arguments);\n  }\n\n  function _fetchData() {\n    _fetchData = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch(URL);\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return response.json();\n\n            case 5:\n              data = _context.sent;\n              console.log('[useFetch]: Fetched 10 random users');\n              setUsers(data);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchData.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    fetchData();\n  }, [again]);\n\n  var fetchAgain = function fetchAgain() {\n    return updater(function (s) {\n      return ~s;\n    });\n  };\n\n  return [users, fetchAgain];\n});\n\nvar Hookletons = function Hookletons() {\n  useFetchUsers();\n  return null;\n};\n\nvar RenderUser = function RenderUser(_ref) {\n  var render = _ref.render;\n\n  var _useFetchUsers = useFetchUsers(),\n      _useFetchUsers2 = _slicedToArray(_useFetchUsers, 2),\n      data = _useFetchUsers2[0],\n      fetchAgain = _useFetchUsers2[1];\n\n  return React.createElement(\"ul\", {\n    style: {\n      listStyle: 'none',\n      borderStyle: 'solid'\n    }\n  }, data.results ? data.results.map(function (user, idx) {\n    return React.createElement(\"li\", {\n      key: idx\n    }, React.createElement(\"span\", null, idx, \": \"), render(user), React.createElement(\"br\", null));\n  }) : React.createElement(\"span\", null, \"loading...\"), React.createElement(\"li\", null, React.createElement(\"button\", {\n    onClick: fetchAgain\n  }, \"fetch Again\")));\n};\n\nvar Name = function Name(_ref2) {\n  var name = _ref2.name;\n  return React.createElement(\"span\", null, name.first, \" \", name.last);\n};\n\nvar Gender = function Gender(_ref3) {\n  var gender = _ref3.gender;\n  return React.createElement(\"span\", null, gender);\n};\n\nvar Location = function Location(_ref4) {\n  var location = _ref4.location;\n  return React.createElement(\"span\", null, location.street, \", \", location.city, \", \", location.state);\n};\n\nvar Email = function Email(_ref5) {\n  var email = _ref5.email;\n  return React.createElement(\"span\", null, email);\n};\n\nvar Users = function Users() {\n  return React.createElement(\"table\", null, React.createElement(\"tbody\", null, React.createElement(\"tr\", null, React.createElement(\"td\", null, React.createElement(RenderUser, {\n    render: Name\n  })), React.createElement(\"td\", null, React.createElement(RenderUser, {\n    render: Gender\n  })), React.createElement(\"td\", null, React.createElement(RenderUser, {\n    render: Location\n  })), React.createElement(\"td\", null, React.createElement(RenderUser, {\n    render: Email\n  })))));\n}; // Repeat `Users` component 4 times\n\n\nexport default (function () {\n  return React.createElement(React.Fragment, null, React.createElement(Hookletons, null), React.createElement(\"h1\", null, \"Fetched 10 random users from: \", React.createElement(\"span\", null, URL)), React.createElement(\"ul\", {\n    style: {\n      listStyle: 'none'\n    }\n  }, _Array$from({\n    length: 4\n  }).map(function (_, idx) {\n    return React.createElement(\"li\", {\n      key: idx\n    }, React.createElement(Users, null));\n  })));\n});","map":null,"metadata":{},"sourceType":"module"}