import{createElement as t,Children as n,Component as r}from"react";function o(t,n){for(var r in n)t[r]=n[r];return t}function e(t){var n=[];function r(t){for(var r=[],o=0;o<n.length;o++)n[o]===t?t=null:r.push(n[o]);n=r}function e(r,e,i){t=e?r:o(o({},t),r);for(var u=n,c=0;c<u.length;c++)u[c](t,i)}return t=t||{},{action:function(n){function r(t){e(t,!1,n)}return function(){for(var o=arguments,e=[t],i=0;i<arguments.length;i++)e.push(o[i]);var u=n.apply(this,e);if(null!=u)return u.then?u.then(r):r(u)}},setState:e,subscribe:function(t){return n.push(t),function(){r(t)}},unsubscribe:r,getState:function(){return t}}}var i={store:function(){}};function u(n,e){var u;return"function"!=typeof n&&("string"==typeof(u=n||[])&&(u=u.split(/\s*,\s*/)),n=function(t){for(var n={},r=0;r<u.length;r++)n[u[r]]=t[u[r]];return n}),function(u){function c(i,c){var f=this;r.call(this,i,c);var p=c.store,s=n(p?p.getState():{},i),a=e?function(t,n){"function"==typeof t&&(t=t(n));var r={};for(var o in t)r[o]=n.action(t[o]);return r}(e,p):{store:p},h=function(){var t=n(p?p.getState():{},f.props);for(var r in t)if(t[r]!==s[r])return s=t,f.forceUpdate();for(var o in s)if(!(o in t))return s=t,f.forceUpdate()};this.componentWillReceiveProps=h,this.componentDidMount=function(){p.subscribe(h)},this.componentWillUnmount=function(){p.unsubscribe(h)},this.render=function(){return t(u,o(o(o({},a),f.props),s))}}return c.contextTypes=i,(c.prototype=Object.create(r.prototype)).constructor=c}}var c=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.getChildContext=function(){return{store:this.props.store}},r.prototype.render=function(){return n.only(this.props.children)},r}(r);c.childContextTypes=i;export{e as createStore,c as Provider,u as connect};
//# sourceMappingURL=react.es.js.map
